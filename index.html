<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Penda</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet" />
    <style>
      /* Glow effect for buttons */
      .glow-button {
        transition: all 0.3s ease;
      }
      .glow-button:hover {
        box-shadow: 0 0 20px #00e1ff, 0 0 30px #00e1ff;
      }

      .canvas-container {
        position: relative;
      }
      .canvas-container canvas {
        border: 1px solid #ccc;
        border-radius: 8px;
      }

      /* Fun fact section */
      .fact-box {
        background-color: #282828;
        color: white;
        padding: 20px;
        border-radius: 8px;
      }

      .fact-title {
        color: #00e1ff;
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      /* Glow effect for feature names */
      .feature-name {
        font-size: 1.1rem;
        font-weight: bold;
        color: #00e1ff;
        transition: transform 0.2s;
      }

      .feature-name:hover {
        transform: scale(1.1);
      }
    </style>
  </head>

  <body class="bg-gray-100 font-roboto">
    <div class="container mx-auto p-4">
      <header class="flex justify-between items-center py-4">
        <h1 class="text-3xl font-bold">Penda</h1>
      </header>
      <div class="flex justify-between items-center my-4">
        <div class="flex-grow mx-4">
          <div class="bg-white shadow-md rounded-lg p-4">
            <div class="flex justify-between items-center mb-4">
              <div class="flex space-x-2">
                <!-- Feature Names & Glow Effect -->
                <button class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="brush-tool">
                  <i class="fas fa-paint-brush"></i> <span class="feature-name">Brush</span>
                </button>
                <button class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="eraser-tool">
                  <i class="fas fa-eraser"></i> <span class="feature-name">Eraser</span>
                </button>
                <input class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="color-picker" type="color" />
                <input class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="pen-size" max="50" min="1" type="range" value="5" />
                <button class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="undo-tool">
                  <i class="fas fa-undo"></i> <span class="feature-name">Undo</span>
                </button>
                <button class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="redo-tool">
                  <i class="fas fa-redo"></i> <span class="feature-name">Redo</span>
                </button>
              </div>
              <div class="flex space-x-2">
                <button class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="save-tool">
                  <i class="fas fa-save"></i> <span class="feature-name">Save</span>
                </button>
                <button class="glow-button p-2 bg-gray-200 rounded hover:bg-gray-300" id="clear-tool">
                  <i class="fas fa-trash"></i> <span class="feature-name">Clear</span>
                </button>
              </div>
            </div>
            <div class="canvas-container">
              <canvas height="400" id="paint-canvas" width="800"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Fun Facts Section -->
      <div class="fact-box">
        <div class="fact-title">Fun Facts About Painting Tools:</div>
        <ul>
          <li>The first mechanical calculator, the <strong>Pascaline</strong>, could only add and subtract, but it was groundbreaking for its time.</li>
          <li>The <strong>Abacus</strong> has been used for thousands of years and is still in use in some parts of the world today!</li>
          <li>In the 1970s, the first <strong>pocket calculator</strong> was introduced, and it was as large as a brick compared to today's models.</li>
          <li>Painting tools have evolved from simple brushes to the powerful digital tools we use today, capable of drawing and editing complex designs.</li>
        </ul>
      </div>
    </div>

    <script>
      const canvas = document.getElementById('paint-canvas');
      const ctx = canvas.getContext('2d');
      let painting = false;
      let penColor = '#000000';
      let penSize = 5;
      let history = [];
      let historyStep = -1;

      // Start drawing
      function startPosition(e) {
        painting = true;
        draw(e);
      }

      // Stop drawing
      function endPosition() {
        painting = false;
        ctx.beginPath();
        if (historyStep < history.length - 1) {
          history = history.slice(0, historyStep + 1);
        }
        history.push(canvas.toDataURL());
        historyStep++;
      }

      // Draw on canvas
      function draw(e) {
        if (!painting) return;
        ctx.lineWidth = penSize;
        ctx.lineCap = 'round';
        ctx.strokeStyle = penColor;

        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX || e.touches[0].clientX) - rect.left;
        const y = (e.clientY || e.touches[0].clientY) - rect.top;

        ctx.lineTo(x, y);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(x, y);
      }

      // Event listeners for mouse and touch actions
      canvas.addEventListener('mousedown', startPosition);
      canvas.addEventListener('mouseup', endPosition);
      canvas.addEventListener('mousemove', draw);
      canvas.addEventListener('touchstart', startPosition);
      canvas.addEventListener('touchend', endPosition);
      canvas.addEventListener('touchmove', draw);

      // Change pen color
      document.getElementById('color-picker').addEventListener('change', (e) => {
        penColor = e.target.value;
      });

      // Change pen size
      document.getElementById('pen-size').addEventListener('change', (e) => {
        penSize = e.target.value;
      });

      // Brush tool click
      document.getElementById('brush-tool').addEventListener('click', () => {
        penColor = document.getElementById('color-picker').value;
      });

      // Eraser tool click
      document.getElementById('eraser-tool').addEventListener('click', () => {
        penColor = '#FFFFFF'; // Eraser color
      });

      // Undo tool
      document.getElementById('undo-tool').addEventListener('click', () => {
        if (historyStep > 0) {
          historyStep--;
          let canvasPic = new Image();
          canvasPic.src = history[historyStep];
          canvasPic.onload = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(canvasPic, 0, 0);
          };
        }
      });

      // Redo tool
      document.getElementById('redo-tool').addEventListener('click', () => {
        if (historyStep < history.length - 1) {
          historyStep++;
          let canvasPic = new Image();
          canvasPic.src = history[historyStep];
          canvasPic.onload = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(canvasPic, 0, 0);
          };
        }
      });

      // Save tool
      document.getElementById('save-tool').addEventListener('click', () => {
        const link = document.createElement('a');
        link.download = 'painting.png';
        link.href = canvas.toDataURL();
        link.click();
      });

      // Clear tool
      document.getElementById('clear-tool').addEventListener('click', () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        history = [];
        historyStep = -1;
      });
    </script>
  </body>
</html>
